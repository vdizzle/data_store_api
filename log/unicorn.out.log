{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/v1/uploads", "PATH_INFO"=>"/v1/uploads", "REQUEST_URI"=>"/v1/uploads", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_VITRUE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x00000001e5d480 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x00000001e5a050@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x00000001e5d368 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x0000000236fdb0 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x0000000236fd88 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x0000000236fd10 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x00000001e5d368 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x0000000236fce8 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x0000000236fbd0>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/v1/uploads", "PATH_INFO"=>"/v1/uploads", "REQUEST_URI"=>"/v1/uploads", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_VITRUE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x00000002354e98 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x00000001e5d2a0@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x00000002354d30 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x0000000236fe00 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x0000000236fdb0 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x0000000236fd60 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x00000002354d30 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x0000000236fd10 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x0000000236fbf8>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/v1/uploads", "PATH_INFO"=>"/v1/uploads", "REQUEST_URI"=>"/v1/uploads", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_DATA_STORE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x00000003611b30 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x00000003612058@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x00000003611ab8 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x0000000360fc90 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x0000000360fc68 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x0000000360fc18 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x00000003611ab8 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x0000000360fbf0 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x0000000360fba0>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/v1/uploads", "PATH_INFO"=>"/v1/uploads", "REQUEST_URI"=>"/v1/uploads", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_DATA_STORE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x000000025f2e48 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x000000025f3370@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x000000025f2dd0 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x000000025f0af8 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x000000025f0aa8 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x000000025f0a58 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x000000025f2dd0 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x000000025f0a30 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x000000025f09e0>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/v1/uploads", "PATH_INFO"=>"/v1/uploads", "REQUEST_URI"=>"/v1/uploads", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_DATA_STORE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x00000003611b58 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x00000003612080@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x00000003611ae0 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x0000000360fcb8 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x0000000360fc90 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x0000000360fc40 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x00000003611ae0 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x0000000360fc18 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x0000000360fbc8>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/uploads", "PATH_INFO"=>"/uploads", "REQUEST_URI"=>"/uploads", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_DATA_STORE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x0000000375e100 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x0000000375e628@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x0000000375e088 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x00000003769258 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x00000003769230 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x000000037691e0 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x0000000375e088 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x000000037691b8 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x00000003769168>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/uploads", "PATH_INFO"=>"/uploads", "REQUEST_URI"=>"/uploads", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_DATA_STORE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x000000037a4088 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x000000037a45b0@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x000000037a4010 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x000000037a2288 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x000000037a2260 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x000000037a2210 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x000000037a4010 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x000000037a21e8 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x000000037a2198>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
{"REMOTE_ADDR"=>"127.0.0.1", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/asdf", "PATH_INFO"=>"/asdf", "REQUEST_URI"=>"/asdf", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_X_FORWARDED_FOR"=>"172.31.55.247", "HTTP_HOST"=>"ec2-54-175-85-177.compute-1.amazonaws.com:8010", "HTTP_CONNECTION"=>"close", "HTTP_USER_AGENT"=>"Typhoeus - https://github.com/typhoeus/typhoeus", "HTTP_ACCEPT"=>"application/vnd.paid-media-v1+json", "CONTENT_TYPE"=>"application/json", "HTTP_X_DATA_STORE_API_KEY"=>"c7388a38-f661-4ea8-b469-c0457bbccbc4", "rack.url_scheme"=>"http", "SERVER_NAME"=>"ec2-54-175-85-177.compute-1.amazonaws.com", "SERVER_PORT"=>"8010", "QUERY_STRING"=>"", "rack.input"=>#<Rack::Lint::InputWrapper:0x000000037ec888 @input=#<StringIO:0x0000000148d040>>, "rack.hijack"=>#<Proc:0x000000037ecdb0@/home/ubuntu/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/rack-1.6.1/lib/rack/lint.rb:525>, "rack.errors"=>#<Rack::Lint::ErrorWrapper:0x000000037ec810 @error=#<File:./log/unicorn.error.log>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.6.3", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x000000037f73a0 @progname=nil, @level=1, @default_formatter=#<Logger::Formatter:0x000000037f7378 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x000000037f7328 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<Rack::Lint::ErrorWrapper:0x000000037ec810 @error=#<File:./log/unicorn.error.log>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x000000037f7300 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x000000037f72b0>>>>, "sinatra.commonlogger"=>true, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}}
D, [2015-05-12T18:11:24.182530 #3428] DEBUG -- :   [1m[36mApiKey Load (0.4ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 LIMIT 1[0m  [["key", "c7388a38-f661-4ea8-b469-c0457bbccbc4"]]
D, [2015-05-12T18:11:27.829816 #3430] DEBUG -- :   [1m[36mApiKey Load (0.3ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 LIMIT 1[0m  [["key", "c7388a38-f661-4ea8-b469-c0457bbccbc4"]]
------------------------------------
Version correct
Header present
D, [2015-05-12T18:12:24.196605 #3523] DEBUG -- :   [1m[36mApiKey Load (0.3ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 LIMIT 1[0m  [["key", "c7388a38-f661-4ea8-b469-c0457bbccbc4"]]
Api Client validated
------------------------------------
------------------------------------
Version correct
Header present
D, [2015-05-12T18:12:48.645723 #3525] DEBUG -- :   [1m[36mApiKey Load (0.3ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 LIMIT 1[0m  [["key", "c7388a38-f661-4ea8-b469-c0457bbccbc4"]]
Api Client validated
------------------------------------
